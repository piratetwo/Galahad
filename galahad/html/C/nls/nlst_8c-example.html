<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>C interfaces to GALAHAD NLS: nlst.c</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">C interfaces to GALAHAD NLS
   </div>
   <div id="projectbrief">header files for C interfaces to GALAHAD NLS package</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">nlst.c</div>  </div>
</div><!--header-->
<div class="contents">
<p><a class="anchor" id="examples"></a> \(\label{examples}\)</p>
<p>This is an example of how to use the package both when the matrices (Jacobian, Hessian, residual-Hessians-vector product) are directly available and when their product with vectors may be found. Both function call evaluations and returns to the calling program to find the required values are illustrated. A variety of supported Hessian storage formats are shown.</p>
<p>Notice that C-style indexing is used, and that this is flaggeed by setting <code>control.f_indexing</code> to <code>false</code>. In addition, see how parameters may be passed into the evaluation functions via <code>userdata</code>.<br  />
 </p><div class="fragment"><div class="line"><span class="comment">/* nlst.c */</span></div>
<div class="line"><span class="comment">/* Full test for the NLS C interface using C sparse matrix indexing */</span></div>
<div class="line"><span class="comment">/* Jari Fowkes &amp; Nick Gould, STFC-Rutherford Appleton Laboratory, 2021 */</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#include &lt;stdio.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;math.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="nls_8h.html">nls.h</a>&quot;</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#define max(a,b)  \</span></div>
<div class="line"><span class="preprocessor">({  __typeof__ (a) _a = (a); \</span></div>
<div class="line"><span class="preprocessor">    __typeof__ (b) _b = (b); \</span></div>
<div class="line"><span class="preprocessor">    _a &gt; _b ? _a : _b; })</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// Custom userdata struct</span></div>
<div class="line"><span class="keyword">struct </span>userdata_type {</div>
<div class="line">   <span class="keywordtype">double</span> p;</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Function prototypes</span></div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> res( <span class="keywordtype">int</span> n, <span class="keywordtype">int</span> m, <span class="keyword">const</span> <span class="keywordtype">double</span> x[], <span class="keywordtype">double</span> c[], <span class="keyword">const</span> <span class="keywordtype">void</span> * );</div>
<div class="line"><span class="keywordtype">int</span> jac( <span class="keywordtype">int</span> n, <span class="keywordtype">int</span> m, <span class="keywordtype">int</span> jne, <span class="keyword">const</span> <span class="keywordtype">double</span> x[], <span class="keywordtype">double</span> jval[], <span class="keyword">const</span> <span class="keywordtype">void</span> * );</div>
<div class="line"><span class="keywordtype">int</span> hess( <span class="keywordtype">int</span> n, <span class="keywordtype">int</span> m, <span class="keywordtype">int</span> hne, <span class="keyword">const</span> <span class="keywordtype">double</span> x[], <span class="keyword">const</span> <span class="keywordtype">double</span> y[], </div>
<div class="line">          <span class="keywordtype">double</span> hval[], <span class="keyword">const</span> <span class="keywordtype">void</span> * );</div>
<div class="line"><span class="keywordtype">int</span> jacprod( <span class="keywordtype">int</span> n, <span class="keywordtype">int</span> m, <span class="keyword">const</span> <span class="keywordtype">double</span> x[], <span class="keyword">const</span> <span class="keywordtype">bool</span> transpose, <span class="keywordtype">double</span> u[], </div>
<div class="line">             <span class="keyword">const</span> <span class="keywordtype">double</span> v[], <span class="keywordtype">bool</span> got_j, <span class="keyword">const</span> <span class="keywordtype">void</span> * );</div>
<div class="line"><span class="keywordtype">int</span> hessprod( <span class="keywordtype">int</span> n, <span class="keywordtype">int</span> m, <span class="keyword">const</span> <span class="keywordtype">double</span> x[], <span class="keyword">const</span> <span class="keywordtype">double</span> y[], <span class="keywordtype">double</span> u[], </div>
<div class="line">              <span class="keyword">const</span> <span class="keywordtype">double</span> v[], <span class="keywordtype">bool</span> got_h, <span class="keyword">const</span> <span class="keywordtype">void</span> * );</div>
<div class="line"><span class="keywordtype">int</span> rhessprods( <span class="keywordtype">int</span> n, <span class="keywordtype">int</span> m, <span class="keywordtype">int</span> pne, <span class="keyword">const</span> <span class="keywordtype">double</span> x[], <span class="keyword">const</span> <span class="keywordtype">double</span> v[],</div>
<div class="line">                <span class="keywordtype">double</span> pval[], <span class="keywordtype">bool</span> got_h, <span class="keyword">const</span> <span class="keywordtype">void</span> * );</div>
<div class="line"><span class="keywordtype">int</span> scale( <span class="keywordtype">int</span> n, <span class="keywordtype">int</span> m, <span class="keyword">const</span> <span class="keywordtype">double</span> x[], <span class="keywordtype">double</span> u[], </div>
<div class="line">           <span class="keyword">const</span> <span class="keywordtype">double</span> v[], <span class="keyword">const</span> <span class="keywordtype">void</span> * );</div>
<div class="line"><span class="keywordtype">int</span> jac_dense( <span class="keywordtype">int</span> n, <span class="keywordtype">int</span> m, <span class="keywordtype">int</span> jne, <span class="keyword">const</span> <span class="keywordtype">double</span> x[], <span class="keywordtype">double</span> jval[], </div>
<div class="line">               <span class="keyword">const</span> <span class="keywordtype">void</span> * );</div>
<div class="line"><span class="keywordtype">int</span> hess_dense( <span class="keywordtype">int</span> n, <span class="keywordtype">int</span> m, <span class="keywordtype">int</span> hne, <span class="keyword">const</span> <span class="keywordtype">double</span> x[], <span class="keyword">const</span> <span class="keywordtype">double</span> y[],</div>
<div class="line">                <span class="keywordtype">double</span> hval[], <span class="keyword">const</span> <span class="keywordtype">void</span> * );</div>
<div class="line"><span class="keywordtype">int</span> rhessprods_dense( <span class="keywordtype">int</span> n, <span class="keywordtype">int</span> m, <span class="keywordtype">int</span> pne, <span class="keyword">const</span> <span class="keywordtype">double</span> x[], </div>
<div class="line">                      <span class="keyword">const</span> <span class="keywordtype">double</span> v[], <span class="keywordtype">double</span> pval[], <span class="keywordtype">bool</span> got_h,</div>
<div class="line">                      <span class="keyword">const</span> <span class="keywordtype">void</span> * );</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">void</span>) {</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Derived types</span></div>
<div class="line">    <span class="keywordtype">void</span> *data;</div>
<div class="line">    <span class="keyword">struct </span><a name="_a0"></a><a class="code" href="structnls__control__type.html">nls_control_type</a> control;</div>
<div class="line">    <span class="keyword">struct </span><a name="_a1"></a><a class="code" href="structnls__inform__type.html">nls_inform_type</a> inform;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Set user data</span></div>
<div class="line">    <span class="keyword">struct </span>userdata_type userdata;</div>
<div class="line">    userdata.p = 1.0;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Set problem data</span></div>
<div class="line">    <span class="keywordtype">int</span> n = 2; <span class="comment">// # variables</span></div>
<div class="line">    <span class="keywordtype">int</span> m = 3; <span class="comment">// # residuals</span></div>
<div class="line">    <span class="keywordtype">int</span> j_ne = 5; <span class="comment">// Jacobian elements</span></div>
<div class="line">    <span class="keywordtype">int</span> h_ne = 2; <span class="comment">// Hesssian elements</span></div>
<div class="line">    <span class="keywordtype">int</span> p_ne = 2; <span class="comment">// residual-Hessians-vector products elements</span></div>
<div class="line">    <span class="keywordtype">int</span> J_row[] = {0, 1, 1, 2, 2}; <span class="comment">// Jacobian J</span></div>
<div class="line">    <span class="keywordtype">int</span> J_col[] = {0, 0, 1, 0, 1}; <span class="comment">// </span></div>
<div class="line">    <span class="keywordtype">int</span> J_ptr[] = {0, 1, 3, 5};    <span class="comment">// row pointers</span></div>
<div class="line">    <span class="keywordtype">int</span> H_row[] = {0, 1};          <span class="comment">// Hessian H</span></div>
<div class="line">    <span class="keywordtype">int</span> H_col[] = {0, 1};          <span class="comment">// NB lower triangle</span></div>
<div class="line">    <span class="keywordtype">int</span> H_ptr[] = {0, 1, 2};       <span class="comment">// row pointers</span></div>
<div class="line">    <span class="keywordtype">int</span> P_row[] = {0, 1};          <span class="comment">// residual-Hessians-vector product matrix</span></div>
<div class="line">    <span class="keywordtype">int</span> P_ptr[] = {0, 1, 2, 2};    <span class="comment">// column pointers</span></div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Set storage</span></div>
<div class="line">    <span class="keywordtype">double</span> g[n]; <span class="comment">// gradient</span></div>
<div class="line">    <span class="keywordtype">double</span> c[m]; <span class="comment">// residual</span></div>
<div class="line">    <span class="keywordtype">double</span> y[m]; <span class="comment">// multipliers</span></div>
<div class="line">    <span class="keywordtype">double</span> W[] = {1.0, 1.0, 1.0}; <span class="comment">// weights</span></div>
<div class="line">    <span class="keywordtype">char</span> st;</div>
<div class="line">    <span class="keywordtype">int</span> status;</div>
<div class="line"> </div>
<div class="line">    printf(<span class="stringliteral">&quot; C sparse matrix indexing\n\n&quot;</span>);</div>
<div class="line"> </div>
<div class="line">    printf(<span class="stringliteral">&quot; tests options for all-in-one storage format\n\n&quot;</span>);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">for</span>( <span class="keywordtype">int</span> d=1; d &lt;= 5; d++){</div>
<div class="line"><span class="comment">//  for( int d=5; d &lt;= 5; d++){</span></div>
<div class="line"> </div>
<div class="line">        <span class="comment">// Initialize NLS</span></div>
<div class="line">        <a name="a2"></a><a class="code" href="nls_8h.html#aa344bb15b74ab3b3ee6afb2de072b19f">nls_initialize</a>( &amp;data, &amp;control, &amp;inform );</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// Set user-defined control options</span></div>
<div class="line">        control.f_indexing = <span class="keyword">false</span>; <span class="comment">// C sparse matrix indexing</span></div>
<div class="line">        <span class="comment">//control.print_level = 1;</span></div>
<div class="line">        control.jacobian_available = 2; </div>
<div class="line">        control.hessian_available = 2;</div>
<div class="line">        control.model = 6;</div>
<div class="line">        <span class="keywordtype">double</span> x[] = {1.5,1.5}; <span class="comment">// starting point</span></div>
<div class="line">        <span class="keywordtype">double</span> W[] = {1.0, 1.0, 1.0}; <span class="comment">// weights</span></div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">switch</span>(d){</div>
<div class="line">            <span class="keywordflow">case</span> 1: <span class="comment">// sparse co-ordinate storage</span></div>
<div class="line">                st = <span class="charliteral">&#39;C&#39;</span>;</div>
<div class="line">                <a name="a3"></a><a class="code" href="nls_8h.html#a3f0eb83fd31ee4108156f2e84176389d">nls_import</a>( &amp;control, &amp;data, &amp;status, n, m, </div>
<div class="line">                            <span class="stringliteral">&quot;coordinate&quot;</span>, j_ne, J_row, J_col, NULL,</div>
<div class="line">                            <span class="stringliteral">&quot;coordinate&quot;</span>, h_ne, H_row, H_col, NULL,</div>
<div class="line">                            <span class="stringliteral">&quot;sparse_by_columns&quot;</span>, p_ne, P_row, NULL, P_ptr, W ); </div>
<div class="line">                <a name="a4"></a><a class="code" href="nls_8h.html#ae923c2e6afabb3563fe0998d45b715c4">nls_solve_with_mat</a>( &amp;data, &amp;userdata, &amp;status,</div>
<div class="line">                                    n, m, x, c, g, res, j_ne, jac, </div>
<div class="line">                                    h_ne, hess, p_ne, rhessprods );</div>
<div class="line">                <span class="keywordflow">break</span>;</div>
<div class="line">            <span class="keywordflow">case</span> 2: <span class="comment">// sparse by rows  </span></div>
<div class="line">                st = <span class="charliteral">&#39;R&#39;</span>;</div>
<div class="line">                <a class="code" href="nls_8h.html#a3f0eb83fd31ee4108156f2e84176389d">nls_import</a>( &amp;control, &amp;data, &amp;status, n, m, </div>
<div class="line">                            <span class="stringliteral">&quot;sparse_by_rows&quot;</span>, j_ne, NULL, J_col, J_ptr,</div>
<div class="line">                            <span class="stringliteral">&quot;sparse_by_rows&quot;</span>, h_ne, NULL, H_col, H_ptr,</div>
<div class="line">                            <span class="stringliteral">&quot;sparse_by_columns&quot;</span>, p_ne, P_row, NULL, P_ptr, W ); </div>
<div class="line">                <a class="code" href="nls_8h.html#ae923c2e6afabb3563fe0998d45b715c4">nls_solve_with_mat</a>( &amp;data, &amp;userdata, &amp;status,</div>
<div class="line">                                    n, m, x, c, g, res, j_ne, jac, </div>
<div class="line">                                    h_ne, hess, p_ne, rhessprods );</div>
<div class="line">                <span class="keywordflow">break</span>;</div>
<div class="line">            <span class="keywordflow">case</span> 3: <span class="comment">// dense</span></div>
<div class="line">                st = <span class="charliteral">&#39;D&#39;</span>;</div>
<div class="line">                <a class="code" href="nls_8h.html#a3f0eb83fd31ee4108156f2e84176389d">nls_import</a>( &amp;control, &amp;data, &amp;status, n, m, </div>
<div class="line">                            <span class="stringliteral">&quot;dense&quot;</span>, j_ne, NULL, NULL, NULL,</div>
<div class="line">                            <span class="stringliteral">&quot;dense&quot;</span>, h_ne, NULL, NULL, NULL,</div>
<div class="line">                            <span class="stringliteral">&quot;dense&quot;</span>, p_ne, NULL, NULL, NULL, W ); </div>
<div class="line">                <a class="code" href="nls_8h.html#ae923c2e6afabb3563fe0998d45b715c4">nls_solve_with_mat</a>( &amp;data, &amp;userdata, &amp;status,</div>
<div class="line">                                    n, m, x, c, g, res, j_ne, jac_dense, </div>
<div class="line">                                    h_ne, hess_dense, p_ne, rhessprods_dense );</div>
<div class="line">                <span class="keywordflow">break</span>;</div>
<div class="line">            <span class="keywordflow">case</span> 4: <span class="comment">// diagonal</span></div>
<div class="line">                st = <span class="charliteral">&#39;I&#39;</span>;</div>
<div class="line">                <a class="code" href="nls_8h.html#a3f0eb83fd31ee4108156f2e84176389d">nls_import</a>( &amp;control, &amp;data, &amp;status, n, m, </div>
<div class="line">                            <span class="stringliteral">&quot;sparse_by_rows&quot;</span>, j_ne, NULL, J_col, J_ptr,</div>
<div class="line">                            <span class="stringliteral">&quot;diagonal&quot;</span>, h_ne, NULL, NULL, NULL,</div>
<div class="line">                            <span class="stringliteral">&quot;sparse_by_columns&quot;</span>, p_ne, P_row, NULL, P_ptr, W ); </div>
<div class="line">                <a class="code" href="nls_8h.html#ae923c2e6afabb3563fe0998d45b715c4">nls_solve_with_mat</a>( &amp;data, &amp;userdata, &amp;status,</div>
<div class="line">                                    n, m, x, c, g, res, j_ne, jac, </div>
<div class="line">                                    h_ne, hess, p_ne, rhessprods );</div>
<div class="line">                <span class="keywordflow">break</span>;</div>
<div class="line">            <span class="keywordflow">case</span> 5: <span class="comment">// access by products</span></div>
<div class="line">                st = <span class="charliteral">&#39;P&#39;</span>;</div>
<div class="line">                <a class="code" href="nls_8h.html#a3f0eb83fd31ee4108156f2e84176389d">nls_import</a>( &amp;control, &amp;data, &amp;status, n, m, </div>
<div class="line">                            <span class="stringliteral">&quot;absent&quot;</span>, j_ne, NULL, NULL, NULL,</div>
<div class="line">                            <span class="stringliteral">&quot;absent&quot;</span>, h_ne, NULL, NULL, NULL,</div>
<div class="line">                            <span class="stringliteral">&quot;sparse_by_columns&quot;</span>, p_ne, P_row, NULL, P_ptr, W ); </div>
<div class="line">                <a name="a5"></a><a class="code" href="nls_8h.html#a692ecbfaa428584e60aa4c33d7278a64">nls_solve_without_mat</a>( &amp;data, &amp;userdata, &amp;status,</div>
<div class="line">                                       n, m, x, c, g, res, jacprod, </div>
<div class="line">                                       hessprod, p_ne, rhessprods );</div>
<div class="line">                <span class="keywordflow">break</span>;</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <a name="a6"></a><a class="code" href="nls_8h.html#a765da96b0a1f3d07dab53cc3400c22d8">nls_information</a>( &amp;data, &amp;inform, &amp;status );</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span>(inform.status == 0){</div>
<div class="line">            printf(<span class="stringliteral">&quot;%c:%6i iterations. Optimal objective value = %5.2f&quot;</span></div>
<div class="line">                   <span class="stringliteral">&quot; status = %1i\n&quot;</span>, </div>
<div class="line">                   st, inform.iter, inform.obj, inform.status);</div>
<div class="line">        }<span class="keywordflow">else</span>{</div>
<div class="line">            printf(<span class="stringliteral">&quot;%c: NLS_solve exit status = %1i\n&quot;</span>, st, inform.status);</div>
<div class="line">        }</div>
<div class="line">        <span class="comment">// Delete internal workspace</span></div>
<div class="line">        <a name="a7"></a><a class="code" href="nls_8h.html#a7babe9112dfad1eb7b57b70135704ab0">nls_terminate</a>( &amp;data, &amp;control, &amp;inform );</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    printf(<span class="stringliteral">&quot;\n tests reverse-communication options\n\n&quot;</span>);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// reverse-communication input/output</span></div>
<div class="line">    <span class="keywordtype">int</span> eval_status;</div>
<div class="line">    <span class="keywordtype">double</span> u[max(m,n)], v[max(m,n)];</div>
<div class="line">    <span class="keywordtype">double</span> J_val[j_ne], J_dense[m*n];</div>
<div class="line">    <span class="keywordtype">double</span> H_val[h_ne], H_dense[n*(n+1)/2], H_diag[n];</div>
<div class="line">    <span class="keywordtype">double</span> P_val[p_ne], P_dense[m*n];</div>
<div class="line">    <span class="keywordtype">bool</span> transpose;</div>
<div class="line">    <span class="keywordtype">bool</span> got_j = <span class="keyword">false</span>;</div>
<div class="line">    <span class="keywordtype">bool</span> got_h = <span class="keyword">false</span>;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">for</span>( <span class="keywordtype">int</span> d=1; d &lt;= 5; d++){</div>
<div class="line"><span class="comment">//  for( int d=1; d &lt;= 4; d++){</span></div>
<div class="line"> </div>
<div class="line">        <span class="comment">// Initialize NLS</span></div>
<div class="line">        <a class="code" href="nls_8h.html#aa344bb15b74ab3b3ee6afb2de072b19f">nls_initialize</a>( &amp;data, &amp;control, &amp;inform );</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// Set user-defined control options</span></div>
<div class="line">        control.f_indexing = <span class="keyword">false</span>; <span class="comment">// C sparse matrix indexing</span></div>
<div class="line">        <span class="comment">//control.print_level = 1;</span></div>
<div class="line">        control.jacobian_available = 2; </div>
<div class="line">        control.hessian_available = 2;</div>
<div class="line">        control.model = 6;</div>
<div class="line">        <span class="keywordtype">double</span> x[] = {1.5,1.5}; <span class="comment">// starting point</span></div>
<div class="line">        <span class="keywordtype">double</span> W[] = {1.0, 1.0, 1.0}; <span class="comment">// weights</span></div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">switch</span>(d){</div>
<div class="line">            <span class="keywordflow">case</span> 1: <span class="comment">// sparse co-ordinate storage</span></div>
<div class="line">                st = <span class="charliteral">&#39;C&#39;</span>;</div>
<div class="line">                <a class="code" href="nls_8h.html#a3f0eb83fd31ee4108156f2e84176389d">nls_import</a>( &amp;control, &amp;data, &amp;status, n, m, </div>
<div class="line">                            <span class="stringliteral">&quot;coordinate&quot;</span>, j_ne, J_row, J_col, NULL,</div>
<div class="line">                            <span class="stringliteral">&quot;coordinate&quot;</span>, h_ne, H_row, H_col, NULL,</div>
<div class="line">                            <span class="stringliteral">&quot;sparse_by_columns&quot;</span>, p_ne, P_row, NULL, P_ptr, W ); </div>
<div class="line">                <span class="keywordflow">while</span>(<span class="keyword">true</span>){ <span class="comment">// reverse-communication loop</span></div>
<div class="line">                  <a name="a8"></a><a class="code" href="nls_8h.html#a9ad89605640c53c33ddd5894b5e3edd1">nls_solve_reverse_with_mat</a>( &amp;data, &amp;status, &amp;eval_status,</div>
<div class="line">                                              n, m, x, c, g, j_ne, J_val, y, </div>
<div class="line">                                              h_ne, H_val, v, p_ne, P_val );</div>
<div class="line">                  <span class="keywordflow">if</span>(status == 0){ <span class="comment">// successful termination</span></div>
<div class="line">                        <span class="keywordflow">break</span>;</div>
<div class="line">                  }<span class="keywordflow">else</span> <span class="keywordflow">if</span>(status &lt; 0){ <span class="comment">// error exit</span></div>
<div class="line">                      <span class="keywordflow">break</span>;</div>
<div class="line">                  }<span class="keywordflow">else</span> <span class="keywordflow">if</span>(status == 2){ <span class="comment">// evaluate c</span></div>
<div class="line">                      eval_status = res( n, m, x, c, &amp;userdata );</div>
<div class="line">                  }<span class="keywordflow">else</span> <span class="keywordflow">if</span>(status == 3){ <span class="comment">// evaluate J</span></div>
<div class="line">                      eval_status = jac( n, m, j_ne, x, J_val, &amp;userdata );</div>
<div class="line">                  }<span class="keywordflow">else</span> <span class="keywordflow">if</span>(status == 4){ <span class="comment">// evaluate H</span></div>
<div class="line">                      eval_status = hess( n, m, h_ne, x, y, H_val, &amp;userdata );</div>
<div class="line">                  }<span class="keywordflow">else</span> <span class="keywordflow">if</span>(status == 7){ <span class="comment">// evaluate P</span></div>
<div class="line">                      eval_status = rhessprods( n, m, p_ne, x, v, P_val, </div>
<div class="line">                                                got_h, &amp;userdata );</div>
<div class="line">                  }<span class="keywordflow">else</span>{</div>
<div class="line">                      printf(<span class="stringliteral">&quot; the value %1i of status should not occur\n&quot;</span>, </div>
<div class="line">                        status);</div>
<div class="line">                      <span class="keywordflow">break</span>;</div>
<div class="line">                  }</div>
<div class="line">                }</div>
<div class="line">                <span class="keywordflow">break</span>;</div>
<div class="line">            <span class="keywordflow">case</span> 2: <span class="comment">// sparse by rows  </span></div>
<div class="line">                st = <span class="charliteral">&#39;R&#39;</span>;</div>
<div class="line">                <a class="code" href="nls_8h.html#a3f0eb83fd31ee4108156f2e84176389d">nls_import</a>( &amp;control, &amp;data, &amp;status, n, m, </div>
<div class="line">                            <span class="stringliteral">&quot;sparse_by_rows&quot;</span>, j_ne, NULL, J_col, J_ptr,</div>
<div class="line">                            <span class="stringliteral">&quot;sparse_by_rows&quot;</span>, h_ne, NULL, H_col, H_ptr,</div>
<div class="line">                            <span class="stringliteral">&quot;sparse_by_columns&quot;</span>, p_ne, P_row, NULL, P_ptr, W ); </div>
<div class="line">                <span class="keywordflow">while</span>(<span class="keyword">true</span>){ <span class="comment">// reverse-communication loop</span></div>
<div class="line">                  <a class="code" href="nls_8h.html#a9ad89605640c53c33ddd5894b5e3edd1">nls_solve_reverse_with_mat</a>( &amp;data, &amp;status, &amp;eval_status,</div>
<div class="line">                                              n, m, x, c, g, j_ne, J_val, y, </div>
<div class="line">                                              h_ne, H_val, v, p_ne, P_val );</div>
<div class="line">                  <span class="keywordflow">if</span>(status == 0){ <span class="comment">// successful termination</span></div>
<div class="line">                        <span class="keywordflow">break</span>;</div>
<div class="line">                  }<span class="keywordflow">else</span> <span class="keywordflow">if</span>(status &lt; 0){ <span class="comment">// error exit</span></div>
<div class="line">                      <span class="keywordflow">break</span>;</div>
<div class="line">                  }<span class="keywordflow">else</span> <span class="keywordflow">if</span>(status == 2){ <span class="comment">// evaluate c</span></div>
<div class="line">                      eval_status = res( n, m, x, c, &amp;userdata );</div>
<div class="line">                  }<span class="keywordflow">else</span> <span class="keywordflow">if</span>(status == 3){ <span class="comment">// evaluate J</span></div>
<div class="line">                      eval_status = jac( n, m, j_ne, x, J_val, &amp;userdata );</div>
<div class="line">                  }<span class="keywordflow">else</span> <span class="keywordflow">if</span>(status == 4){ <span class="comment">// evaluate H</span></div>
<div class="line">                      eval_status = hess( n, m, h_ne, x, y, H_val, &amp;userdata );</div>
<div class="line">                  }<span class="keywordflow">else</span> <span class="keywordflow">if</span>(status == 7){ <span class="comment">// evaluate P</span></div>
<div class="line">                      eval_status = rhessprods( n, m, p_ne, x, v, P_val, </div>
<div class="line">                                                got_h, &amp;userdata );</div>
<div class="line">                  }<span class="keywordflow">else</span>{</div>
<div class="line">                      printf(<span class="stringliteral">&quot; the value %1i of status should not occur\n&quot;</span>, </div>
<div class="line">                        status);</div>
<div class="line">                      <span class="keywordflow">break</span>;</div>
<div class="line">                  }</div>
<div class="line">                }</div>
<div class="line">                <span class="keywordflow">break</span>;</div>
<div class="line">            <span class="keywordflow">case</span> 3: <span class="comment">// dense</span></div>
<div class="line">                st = <span class="charliteral">&#39;D&#39;</span>;</div>
<div class="line">                <a class="code" href="nls_8h.html#a3f0eb83fd31ee4108156f2e84176389d">nls_import</a>( &amp;control, &amp;data, &amp;status, n, m, </div>
<div class="line">                            <span class="stringliteral">&quot;dense&quot;</span>, j_ne, NULL, NULL, NULL,</div>
<div class="line">                            <span class="stringliteral">&quot;dense&quot;</span>, h_ne, NULL, NULL, NULL,</div>
<div class="line">                            <span class="stringliteral">&quot;dense&quot;</span>, p_ne, NULL, NULL, NULL, W ); </div>
<div class="line">                <span class="keywordflow">while</span>(<span class="keyword">true</span>){ <span class="comment">// reverse-communication loop</span></div>
<div class="line">                  <a class="code" href="nls_8h.html#a9ad89605640c53c33ddd5894b5e3edd1">nls_solve_reverse_with_mat</a>( &amp;data, &amp;status, &amp;eval_status,</div>
<div class="line">                                              n, m, x, c, g, j_ne, J_dense, y, </div>
<div class="line">                                              h_ne, H_dense, v, p_ne, P_dense );</div>
<div class="line">                  <span class="keywordflow">if</span>(status == 0){ <span class="comment">// successful termination</span></div>
<div class="line">                        <span class="keywordflow">break</span>;</div>
<div class="line">                  }<span class="keywordflow">else</span> <span class="keywordflow">if</span>(status &lt; 0){ <span class="comment">// error exit</span></div>
<div class="line">                      <span class="keywordflow">break</span>;</div>
<div class="line">                  }<span class="keywordflow">else</span> <span class="keywordflow">if</span>(status == 2){ <span class="comment">// evaluate c</span></div>
<div class="line">                      eval_status = res( n, m, x, c, &amp;userdata );</div>
<div class="line">                  }<span class="keywordflow">else</span> <span class="keywordflow">if</span>(status == 3){ <span class="comment">// evaluate J</span></div>
<div class="line">                      eval_status = jac_dense( n, m, j_ne, x, J_dense, </div>
<div class="line">                                               &amp;userdata );</div>
<div class="line">                  }<span class="keywordflow">else</span> <span class="keywordflow">if</span>(status == 4){ <span class="comment">// evaluate H</span></div>
<div class="line">                      eval_status = hess_dense( n, m, h_ne, x, y, H_dense, </div>
<div class="line">                                                &amp;userdata );</div>
<div class="line">                  }<span class="keywordflow">else</span> <span class="keywordflow">if</span>(status == 7){ <span class="comment">// evaluate P</span></div>
<div class="line">                      eval_status = rhessprods_dense( n, m, p_ne, x, v, P_dense,</div>
<div class="line">                                                      got_h, &amp;userdata );</div>
<div class="line">                  }<span class="keywordflow">else</span>{</div>
<div class="line">                      printf(<span class="stringliteral">&quot; the value %1i of status should not occur\n&quot;</span>, </div>
<div class="line">                        status);</div>
<div class="line">                      <span class="keywordflow">break</span>;</div>
<div class="line">                  }</div>
<div class="line">                }</div>
<div class="line">                <span class="keywordflow">break</span>;</div>
<div class="line">            <span class="keywordflow">case</span> 4: <span class="comment">// diagonal</span></div>
<div class="line">                st = <span class="charliteral">&#39;I&#39;</span>;</div>
<div class="line">                <a class="code" href="nls_8h.html#a3f0eb83fd31ee4108156f2e84176389d">nls_import</a>( &amp;control, &amp;data, &amp;status, n, m, </div>
<div class="line">                            <span class="stringliteral">&quot;sparse_by_rows&quot;</span>, j_ne, NULL, J_col, J_ptr,</div>
<div class="line">                            <span class="stringliteral">&quot;diagonal&quot;</span>, h_ne, NULL, NULL, NULL,</div>
<div class="line">                            <span class="stringliteral">&quot;sparse_by_columns&quot;</span>, p_ne, P_row, NULL, P_ptr, W ); </div>
<div class="line">                <span class="keywordflow">while</span>(<span class="keyword">true</span>){ <span class="comment">// reverse-communication loop</span></div>
<div class="line">                  <a class="code" href="nls_8h.html#a9ad89605640c53c33ddd5894b5e3edd1">nls_solve_reverse_with_mat</a>( &amp;data, &amp;status, &amp;eval_status,</div>
<div class="line">                                              n, m, x, c, g, j_ne, J_val, y, </div>
<div class="line">                                              h_ne, H_diag, v, p_ne, P_val );</div>
<div class="line">                  <span class="keywordflow">if</span>(status == 0){ <span class="comment">// successful termination</span></div>
<div class="line">                        <span class="keywordflow">break</span>;</div>
<div class="line">                  }<span class="keywordflow">else</span> <span class="keywordflow">if</span>(status &lt; 0){ <span class="comment">// error exit</span></div>
<div class="line">                      <span class="keywordflow">break</span>;</div>
<div class="line">                  }<span class="keywordflow">else</span> <span class="keywordflow">if</span>(status == 2){ <span class="comment">// evaluate c</span></div>
<div class="line">                      eval_status = res( n, m, x, c, &amp;userdata );</div>
<div class="line">                  }<span class="keywordflow">else</span> <span class="keywordflow">if</span>(status == 3){ <span class="comment">// evaluate J</span></div>
<div class="line">                      eval_status = jac( n, m, j_ne, x, J_val, &amp;userdata );</div>
<div class="line">                  }<span class="keywordflow">else</span> <span class="keywordflow">if</span>(status == 4){ <span class="comment">// evaluate H</span></div>
<div class="line">                      eval_status = hess( n, m, h_ne, x, y, H_diag, &amp;userdata );</div>
<div class="line">                  }<span class="keywordflow">else</span> <span class="keywordflow">if</span>(status == 7){ <span class="comment">// evaluate P</span></div>
<div class="line">                      eval_status = rhessprods( n, m, p_ne, x, v, P_val, </div>
<div class="line">                                                got_h, &amp;userdata );</div>
<div class="line">                  }<span class="keywordflow">else</span>{</div>
<div class="line">                      printf(<span class="stringliteral">&quot; the value %1i of status should not occur\n&quot;</span>, </div>
<div class="line">                        status);</div>
<div class="line">                      <span class="keywordflow">break</span>;</div>
<div class="line">                  }</div>
<div class="line">                }</div>
<div class="line">                <span class="keywordflow">break</span>;</div>
<div class="line">            <span class="keywordflow">case</span> 5: <span class="comment">// access by products</span></div>
<div class="line">                st = <span class="charliteral">&#39;P&#39;</span>;</div>
<div class="line"><span class="comment">//              control.print_level = 1;</span></div>
<div class="line">                <a class="code" href="nls_8h.html#a3f0eb83fd31ee4108156f2e84176389d">nls_import</a>( &amp;control, &amp;data, &amp;status, n, m, </div>
<div class="line">                            <span class="stringliteral">&quot;absent&quot;</span>, j_ne, NULL, NULL, NULL,</div>
<div class="line">                            <span class="stringliteral">&quot;absent&quot;</span>, h_ne, NULL, NULL, NULL,</div>
<div class="line">                            <span class="stringliteral">&quot;sparse_by_columns&quot;</span>, p_ne, P_row, NULL, P_ptr, W ); </div>
<div class="line">                <span class="keywordflow">while</span>(<span class="keyword">true</span>){ <span class="comment">// reverse-communication loop</span></div>
<div class="line">                  <a name="a9"></a><a class="code" href="nls_8h.html#a6dddd928c19adec0abf76bdb2d75da17">nls_solve_reverse_without_mat</a>( &amp;data, &amp;status, &amp;eval_status,</div>
<div class="line">                                                 n, m, x, c, g, &amp;transpose, </div>
<div class="line">                                                 u, v, y, p_ne, P_val );</div>
<div class="line">                  <span class="keywordflow">if</span>(status == 0){ <span class="comment">// successful termination</span></div>
<div class="line">                        <span class="keywordflow">break</span>;</div>
<div class="line">                  }<span class="keywordflow">else</span> <span class="keywordflow">if</span>(status &lt; 0){ <span class="comment">// error exit</span></div>
<div class="line">                      <span class="keywordflow">break</span>;</div>
<div class="line">                  }<span class="keywordflow">else</span> <span class="keywordflow">if</span>(status == 2){ <span class="comment">// evaluate c</span></div>
<div class="line">                      eval_status = res( n, m, x, c, &amp;userdata );</div>
<div class="line">                  }<span class="keywordflow">else</span> <span class="keywordflow">if</span>(status == 5){ <span class="comment">// evaluate u + J v or u + J&#39;v</span></div>
<div class="line">                      eval_status = jacprod( n, m, x, transpose, u, v, got_j, </div>
<div class="line">                                             &amp;userdata );</div>
<div class="line">                  }<span class="keywordflow">else</span> <span class="keywordflow">if</span>(status == 6){ <span class="comment">// evaluate u + H v</span></div>
<div class="line">                      eval_status = hessprod( n, m, x, y, u, v, got_h, </div>
<div class="line">                                              &amp;userdata );</div>
<div class="line">                  }<span class="keywordflow">else</span> <span class="keywordflow">if</span>(status == 7){ <span class="comment">// evaluate P</span></div>
<div class="line">                      eval_status = rhessprods( n, m, p_ne, x, v, P_val, </div>
<div class="line">                                                got_h, &amp;userdata );</div>
<div class="line">                  }<span class="keywordflow">else</span>{</div>
<div class="line">                      printf(<span class="stringliteral">&quot; the value %1i of status should not occur\n&quot;</span>, </div>
<div class="line">                        status);</div>
<div class="line">                      <span class="keywordflow">break</span>;</div>
<div class="line">                  }</div>
<div class="line">                }</div>
<div class="line">                <span class="keywordflow">break</span>;</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <a class="code" href="nls_8h.html#a765da96b0a1f3d07dab53cc3400c22d8">nls_information</a>( &amp;data, &amp;inform, &amp;status );</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span>(inform.status == 0){</div>
<div class="line">            printf(<span class="stringliteral">&quot;%c:%6i iterations. Optimal objective value = %5.2f&quot;</span></div>
<div class="line">                   <span class="stringliteral">&quot; status = %1i\n&quot;</span>, </div>
<div class="line">                   st, inform.iter, inform.obj, inform.status);</div>
<div class="line">        }<span class="keywordflow">else</span>{</div>
<div class="line">            printf(<span class="stringliteral">&quot;%c: NLS_solve exit status = %1i\n&quot;</span>, st, inform.status);</div>
<div class="line">        }</div>
<div class="line">        <span class="comment">// Delete internal workspace</span></div>
<div class="line">        <a class="code" href="nls_8h.html#a7babe9112dfad1eb7b57b70135704ab0">nls_terminate</a>( &amp;data, &amp;control, &amp;inform );</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    printf(<span class="stringliteral">&quot;\n basic tests of models used, direct access\n\n&quot;</span>);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">for</span>( <span class="keywordtype">int</span> model=3; model &lt;= 8; model++){</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// Initialize NLS</span></div>
<div class="line">        <a class="code" href="nls_8h.html#aa344bb15b74ab3b3ee6afb2de072b19f">nls_initialize</a>( &amp;data, &amp;control, &amp;inform );</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// Set user-defined control options</span></div>
<div class="line">        control.f_indexing = <span class="keyword">false</span>; <span class="comment">// C sparse matrix indexing</span></div>
<div class="line">        <span class="comment">//control.print_level = 1;</span></div>
<div class="line">        control.jacobian_available = 2; </div>
<div class="line">        control.hessian_available = 2;</div>
<div class="line">        control.model = model;</div>
<div class="line">        <span class="keywordtype">double</span> x[] = {1.5,1.5}; <span class="comment">// starting point</span></div>
<div class="line">        <span class="keywordtype">double</span> W[] = {1.0, 1.0, 1.0}; <span class="comment">// weights</span></div>
<div class="line"> </div>
<div class="line">        <a class="code" href="nls_8h.html#a3f0eb83fd31ee4108156f2e84176389d">nls_import</a>( &amp;control, &amp;data, &amp;status, n, m, </div>
<div class="line">                    <span class="stringliteral">&quot;sparse_by_rows&quot;</span>, j_ne, NULL, J_col, J_ptr,</div>
<div class="line">                    <span class="stringliteral">&quot;sparse_by_rows&quot;</span>, h_ne, NULL, H_col, H_ptr,</div>
<div class="line">                    <span class="stringliteral">&quot;sparse_by_columns&quot;</span>, p_ne, P_row, NULL, P_ptr, W ); </div>
<div class="line">        <a class="code" href="nls_8h.html#ae923c2e6afabb3563fe0998d45b715c4">nls_solve_with_mat</a>( &amp;data, &amp;userdata, &amp;status,</div>
<div class="line">                            n, m, x, c, g, res, j_ne, jac, </div>
<div class="line">                            h_ne, hess, p_ne, rhessprods );</div>
<div class="line"> </div>
<div class="line">        <a class="code" href="nls_8h.html#a765da96b0a1f3d07dab53cc3400c22d8">nls_information</a>( &amp;data, &amp;inform, &amp;status );</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span>(inform.status == 0){</div>
<div class="line">            printf(<span class="stringliteral">&quot; %1i:%6i iterations. Optimal objective value = %5.2f&quot;</span></div>
<div class="line">                   <span class="stringliteral">&quot; status = %1i\n&quot;</span>, </div>
<div class="line">                   model, inform.iter, inform.obj, inform.status);</div>
<div class="line">        }<span class="keywordflow">else</span>{</div>
<div class="line">            printf(<span class="stringliteral">&quot; %i: NLS_solve exit status = %1i\n&quot;</span>, model, inform.status);</div>
<div class="line">        }</div>
<div class="line">        <span class="comment">// Delete internal workspace</span></div>
<div class="line">        <a class="code" href="nls_8h.html#a7babe9112dfad1eb7b57b70135704ab0">nls_terminate</a>( &amp;data, &amp;control, &amp;inform );</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    printf(<span class="stringliteral">&quot;\n basic tests of models used, access by products\n\n&quot;</span>);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">for</span>( <span class="keywordtype">int</span> model=3; model &lt;= 8; model++){</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// Initialize NLS</span></div>
<div class="line">        <a class="code" href="nls_8h.html#aa344bb15b74ab3b3ee6afb2de072b19f">nls_initialize</a>( &amp;data, &amp;control, &amp;inform );</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// Set user-defined control options</span></div>
<div class="line">        control.f_indexing = <span class="keyword">false</span>; <span class="comment">// C sparse matrix indexing</span></div>
<div class="line">        <span class="comment">//control.print_level = 1;</span></div>
<div class="line">        control.jacobian_available = 2; </div>
<div class="line">        control.hessian_available = 2;</div>
<div class="line">        control.model = model;</div>
<div class="line">        <span class="keywordtype">double</span> x[] = {1.5,1.5}; <span class="comment">// starting point</span></div>
<div class="line">        <span class="keywordtype">double</span> W[] = {1.0, 1.0, 1.0}; <span class="comment">// weights</span></div>
<div class="line"> </div>
<div class="line">        <a class="code" href="nls_8h.html#a3f0eb83fd31ee4108156f2e84176389d">nls_import</a>( &amp;control, &amp;data, &amp;status, n, m, </div>
<div class="line">                    <span class="stringliteral">&quot;absent&quot;</span>, j_ne, NULL, NULL, NULL,</div>
<div class="line">                    <span class="stringliteral">&quot;absent&quot;</span>, h_ne, NULL, NULL, NULL,</div>
<div class="line">                    <span class="stringliteral">&quot;sparse_by_columns&quot;</span>, p_ne, P_row, NULL, P_ptr, W ); </div>
<div class="line">        <a class="code" href="nls_8h.html#a692ecbfaa428584e60aa4c33d7278a64">nls_solve_without_mat</a>( &amp;data, &amp;userdata, &amp;status,</div>
<div class="line">                               n, m, x, c, g, res, jacprod, </div>
<div class="line">                               hessprod, p_ne, rhessprods );</div>
<div class="line">        <a class="code" href="nls_8h.html#a765da96b0a1f3d07dab53cc3400c22d8">nls_information</a>( &amp;data, &amp;inform, &amp;status );</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span>(inform.status == 0){</div>
<div class="line">            printf(<span class="stringliteral">&quot;P%1i:%6i iterations. Optimal objective value = %5.2f&quot;</span></div>
<div class="line">                   <span class="stringliteral">&quot; status = %1i\n&quot;</span>, </div>
<div class="line">                   model, inform.iter, inform.obj, inform.status);</div>
<div class="line">        }<span class="keywordflow">else</span>{</div>
<div class="line">            printf(<span class="stringliteral">&quot;P%i: NLS_solve exit status = %1i\n&quot;</span>, model, inform.status);</div>
<div class="line">        }</div>
<div class="line">        <span class="comment">// Delete internal workspace</span></div>
<div class="line">        <a class="code" href="nls_8h.html#a7babe9112dfad1eb7b57b70135704ab0">nls_terminate</a>( &amp;data, &amp;control, &amp;inform );</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    printf(<span class="stringliteral">&quot;\n basic tests of models used, reverse access\n\n&quot;</span>);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">for</span>( <span class="keywordtype">int</span> model=3; model &lt;= 8; model++){</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// Initialize NLS</span></div>
<div class="line">        <a class="code" href="nls_8h.html#aa344bb15b74ab3b3ee6afb2de072b19f">nls_initialize</a>( &amp;data, &amp;control, &amp;inform );</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// Set user-defined control options</span></div>
<div class="line">        control.f_indexing = <span class="keyword">false</span>; <span class="comment">// C sparse matrix indexing</span></div>
<div class="line">        <span class="comment">//control.print_level = 1;</span></div>
<div class="line">        control.jacobian_available = 2; </div>
<div class="line">        control.hessian_available = 2;</div>
<div class="line">        control.model = model;</div>
<div class="line">        <span class="keywordtype">double</span> x[] = {1.5,1.5}; <span class="comment">// starting point</span></div>
<div class="line">        <span class="keywordtype">double</span> W[] = {1.0, 1.0, 1.0}; <span class="comment">// weights</span></div>
<div class="line"> </div>
<div class="line">        <a class="code" href="nls_8h.html#a3f0eb83fd31ee4108156f2e84176389d">nls_import</a>( &amp;control, &amp;data, &amp;status, n, m, </div>
<div class="line">                    <span class="stringliteral">&quot;sparse_by_rows&quot;</span>, j_ne, NULL, J_col, J_ptr,</div>
<div class="line">                    <span class="stringliteral">&quot;sparse_by_rows&quot;</span>, h_ne, NULL, H_col, H_ptr,</div>
<div class="line">                    <span class="stringliteral">&quot;sparse_by_columns&quot;</span>, p_ne, P_row, NULL, P_ptr, W ); </div>
<div class="line">        <span class="keywordflow">while</span>(<span class="keyword">true</span>){ <span class="comment">// reverse-communication loop</span></div>
<div class="line">          <a class="code" href="nls_8h.html#a9ad89605640c53c33ddd5894b5e3edd1">nls_solve_reverse_with_mat</a>( &amp;data, &amp;status, &amp;eval_status,</div>
<div class="line">                                      n, m, x, c, g, j_ne, J_val, y, </div>
<div class="line">                                      h_ne, H_val, v, p_ne, P_val );</div>
<div class="line">          <span class="keywordflow">if</span>(status == 0){ <span class="comment">// successful termination</span></div>
<div class="line">                <span class="keywordflow">break</span>;</div>
<div class="line">          }<span class="keywordflow">else</span> <span class="keywordflow">if</span>(status &lt; 0){ <span class="comment">// error exit</span></div>
<div class="line">              <span class="keywordflow">break</span>;</div>
<div class="line">          }<span class="keywordflow">else</span> <span class="keywordflow">if</span>(status == 2){ <span class="comment">// evaluate c</span></div>
<div class="line">              eval_status = res( n, m, x, c, &amp;userdata );</div>
<div class="line">          }<span class="keywordflow">else</span> <span class="keywordflow">if</span>(status == 3){ <span class="comment">// evaluate J</span></div>
<div class="line">              eval_status = jac( n, m, j_ne, x, J_val, &amp;userdata );</div>
<div class="line">          }<span class="keywordflow">else</span> <span class="keywordflow">if</span>(status == 4){ <span class="comment">// evaluate H</span></div>
<div class="line">              eval_status = hess( n, m, h_ne, x, y, H_val, &amp;userdata );</div>
<div class="line">          }<span class="keywordflow">else</span> <span class="keywordflow">if</span>(status == 7){ <span class="comment">// evaluate P</span></div>
<div class="line">              eval_status = rhessprods( n, m, p_ne, x, v, P_val, </div>
<div class="line">                                        got_h, &amp;userdata );</div>
<div class="line">          }<span class="keywordflow">else</span>{</div>
<div class="line">              printf(<span class="stringliteral">&quot; the value %1i of status should not occur\n&quot;</span>, </div>
<div class="line">                status);</div>
<div class="line">              <span class="keywordflow">break</span>;</div>
<div class="line">          }</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <a class="code" href="nls_8h.html#a765da96b0a1f3d07dab53cc3400c22d8">nls_information</a>( &amp;data, &amp;inform, &amp;status );</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span>(inform.status == 0){</div>
<div class="line">            printf(<span class="stringliteral">&quot;P%1i:%6i iterations. Optimal objective value = %5.2f&quot;</span></div>
<div class="line">                   <span class="stringliteral">&quot; status = %1i\n&quot;</span>, </div>
<div class="line">                   model, inform.iter, inform.obj, inform.status);</div>
<div class="line">        }<span class="keywordflow">else</span>{</div>
<div class="line">            printf(<span class="stringliteral">&quot; %i: NLS_solve exit status = %1i\n&quot;</span>, model, inform.status);</div>
<div class="line">        }</div>
<div class="line">        <span class="comment">// Delete internal workspace</span></div>
<div class="line">        <a class="code" href="nls_8h.html#a7babe9112dfad1eb7b57b70135704ab0">nls_terminate</a>( &amp;data, &amp;control, &amp;inform );</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    printf(<span class="stringliteral">&quot;\n basic tests of models used, reverse access by products\n\n&quot;</span>);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">for</span>( <span class="keywordtype">int</span> model=3; model &lt;= 8; model++){</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// Initialize NLS</span></div>
<div class="line">        <a class="code" href="nls_8h.html#aa344bb15b74ab3b3ee6afb2de072b19f">nls_initialize</a>( &amp;data, &amp;control, &amp;inform );</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// Set user-defined control options</span></div>
<div class="line">        control.f_indexing = <span class="keyword">false</span>; <span class="comment">// C sparse matrix indexing</span></div>
<div class="line">        <span class="comment">//control.print_level = 1;</span></div>
<div class="line">        control.jacobian_available = 2; </div>
<div class="line">        control.hessian_available = 2;</div>
<div class="line">        control.model = model;</div>
<div class="line">        <span class="keywordtype">double</span> x[] = {1.5,1.5}; <span class="comment">// starting point</span></div>
<div class="line">        <span class="keywordtype">double</span> W[] = {1.0, 1.0, 1.0}; <span class="comment">// weights</span></div>
<div class="line"> </div>
<div class="line">        <a class="code" href="nls_8h.html#a3f0eb83fd31ee4108156f2e84176389d">nls_import</a>( &amp;control, &amp;data, &amp;status, n, m, </div>
<div class="line">                    <span class="stringliteral">&quot;absent&quot;</span>, j_ne, NULL, NULL, NULL,</div>
<div class="line">                    <span class="stringliteral">&quot;absent&quot;</span>, h_ne, NULL, NULL, NULL,</div>
<div class="line">                    <span class="stringliteral">&quot;sparse_by_columns&quot;</span>, p_ne, P_row, NULL, P_ptr, W ); </div>
<div class="line">        <span class="keywordflow">while</span>(<span class="keyword">true</span>){ <span class="comment">// reverse-communication loop</span></div>
<div class="line">          <a class="code" href="nls_8h.html#a6dddd928c19adec0abf76bdb2d75da17">nls_solve_reverse_without_mat</a>( &amp;data, &amp;status, &amp;eval_status,</div>
<div class="line">                                         n, m, x, c, g, &amp;transpose, </div>
<div class="line">                                         u, v, y, p_ne, P_val );</div>
<div class="line">          <span class="keywordflow">if</span>(status == 0){ <span class="comment">// successful termination</span></div>
<div class="line">                <span class="keywordflow">break</span>;</div>
<div class="line">          }<span class="keywordflow">else</span> <span class="keywordflow">if</span>(status &lt; 0){ <span class="comment">// error exit</span></div>
<div class="line">              <span class="keywordflow">break</span>;</div>
<div class="line">          }<span class="keywordflow">else</span> <span class="keywordflow">if</span>(status == 2){ <span class="comment">// evaluate c</span></div>
<div class="line">              eval_status = res( n, m, x, c, &amp;userdata );</div>
<div class="line">          }<span class="keywordflow">else</span> <span class="keywordflow">if</span>(status == 5){ <span class="comment">// evaluate u + J v or u + J&#39;v</span></div>
<div class="line">              eval_status = jacprod( n, m, x, transpose, u, v, got_j, </div>
<div class="line">                                     &amp;userdata );</div>
<div class="line">          }<span class="keywordflow">else</span> <span class="keywordflow">if</span>(status == 6){ <span class="comment">// evaluate u + H v</span></div>
<div class="line">              eval_status = hessprod( n, m, x, y, u, v, got_h, </div>
<div class="line">                                      &amp;userdata );</div>
<div class="line">          }<span class="keywordflow">else</span> <span class="keywordflow">if</span>(status == 7){ <span class="comment">// evaluate P</span></div>
<div class="line">              eval_status = rhessprods( n, m, p_ne, x, v, P_val, </div>
<div class="line">                                        got_h, &amp;userdata );</div>
<div class="line">          }<span class="keywordflow">else</span>{</div>
<div class="line">              printf(<span class="stringliteral">&quot; the value %1i of status should not occur\n&quot;</span>, </div>
<div class="line">                status);</div>
<div class="line">              <span class="keywordflow">break</span>;</div>
<div class="line">          }</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <a class="code" href="nls_8h.html#a765da96b0a1f3d07dab53cc3400c22d8">nls_information</a>( &amp;data, &amp;inform, &amp;status );</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span>(inform.status == 0){</div>
<div class="line">            printf(<span class="stringliteral">&quot;P%1i:%6i iterations. Optimal objective value = %5.2f&quot;</span></div>
<div class="line">                   <span class="stringliteral">&quot; status = %1i\n&quot;</span>, </div>
<div class="line">                   model, inform.iter, inform.obj, inform.status);</div>
<div class="line">        }<span class="keywordflow">else</span>{</div>
<div class="line">            printf(<span class="stringliteral">&quot;P%i: NLS_solve exit status = %1i\n&quot;</span>, model, inform.status);</div>
<div class="line">        }</div>
<div class="line">        <span class="comment">// Delete internal workspace</span></div>
<div class="line">        <a class="code" href="nls_8h.html#a7babe9112dfad1eb7b57b70135704ab0">nls_terminate</a>( &amp;data, &amp;control, &amp;inform );</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">// compute the residuals</span></div>
<div class="line"><span class="keywordtype">int</span> res( <span class="keywordtype">int</span> n, <span class="keywordtype">int</span> m, <span class="keyword">const</span> <span class="keywordtype">double</span> x[], <span class="keywordtype">double</span> c[], <span class="keyword">const</span> <span class="keywordtype">void</span> *userdata ){</div>
<div class="line">    <span class="keyword">struct </span>userdata_type *myuserdata = ( <span class="keyword">struct </span>userdata_type * ) userdata;</div>
<div class="line">    <span class="keywordtype">double</span> p = myuserdata-&gt;p;</div>
<div class="line">    c[0] = pow(x[0],2.0) + p;</div>
<div class="line">    c[1] = x[0] + pow(x[1],2.0);</div>
<div class="line">    c[2] = x[0] - x[1];</div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">// compute the Jacobian</span></div>
<div class="line"><span class="keywordtype">int</span> jac( <span class="keywordtype">int</span> n, <span class="keywordtype">int</span> m, <span class="keywordtype">int</span> jne, <span class="keyword">const</span> <span class="keywordtype">double</span> x[], <span class="keywordtype">double</span> jval[], </div>
<div class="line">         <span class="keyword">const</span> <span class="keywordtype">void</span> *userdata ){</div>
<div class="line">    <span class="keyword">struct </span>userdata_type *myuserdata = ( <span class="keyword">struct </span>userdata_type * ) userdata;</div>
<div class="line">    jval[0] = 2.0 * x[0];</div>
<div class="line">    jval[1] = 1.0;</div>
<div class="line">    jval[2] = 2.0 * x[1];</div>
<div class="line">    jval[3] = 1.0;</div>
<div class="line">    jval[4] = - 1.0;</div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">// compute the Hessian</span></div>
<div class="line"><span class="keywordtype">int</span> hess( <span class="keywordtype">int</span> n, <span class="keywordtype">int</span> m, <span class="keywordtype">int</span> hne, <span class="keyword">const</span> <span class="keywordtype">double</span> x[], <span class="keyword">const</span> <span class="keywordtype">double</span> y[], </div>
<div class="line">           <span class="keywordtype">double</span> hval[], <span class="keyword">const</span> <span class="keywordtype">void</span> *userdata ){</div>
<div class="line">    <span class="keyword">struct </span>userdata_type *myuserdata = ( <span class="keyword">struct </span>userdata_type * ) userdata;</div>
<div class="line">    hval[0] = 2.0 * y[0];</div>
<div class="line">    hval[1] = 2.0 * y[1];</div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">// compute Jacobian-vector products</span></div>
<div class="line"><span class="keywordtype">int</span> jacprod( <span class="keywordtype">int</span> n, <span class="keywordtype">int</span> m, <span class="keyword">const</span> <span class="keywordtype">double</span> x[], <span class="keyword">const</span> <span class="keywordtype">bool</span> transpose, <span class="keywordtype">double</span> u[], </div>
<div class="line">             <span class="keyword">const</span> <span class="keywordtype">double</span> v[], <span class="keywordtype">bool</span> got_j, <span class="keyword">const</span> <span class="keywordtype">void</span> *userdata ){</div>
<div class="line">    <span class="keyword">struct </span>userdata_type *myuserdata = ( <span class="keyword">struct </span>userdata_type * ) userdata;</div>
<div class="line">    <span class="keywordflow">if</span> (transpose) {</div>
<div class="line">      u[0] = u[0] + 2.0 * x[0] * v[0] + v[1] + v[2];</div>
<div class="line">      u[1] = u[1] + 2.0 * x[1] * v[1] - v[2];</div>
<div class="line">    }<span class="keywordflow">else</span>{</div>
<div class="line">      u[0] = u[0] + 2.0 * x[0] * v[0];</div>
<div class="line">      u[1] = u[1] + v[0]  + 2.0 * x[1] * v[1];</div>
<div class="line">      u[2] = u[2] + v[0] - v[1];</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">// compute Hessian-vector products</span></div>
<div class="line"><span class="keywordtype">int</span> hessprod( <span class="keywordtype">int</span> n, <span class="keywordtype">int</span> m, <span class="keyword">const</span> <span class="keywordtype">double</span> x[], <span class="keyword">const</span> <span class="keywordtype">double</span> y[], <span class="keywordtype">double</span> u[], </div>
<div class="line">              <span class="keyword">const</span> <span class="keywordtype">double</span> v[], <span class="keywordtype">bool</span> got_h, <span class="keyword">const</span> <span class="keywordtype">void</span> *userdata ){</div>
<div class="line">    <span class="keyword">struct </span>userdata_type *myuserdata = ( <span class="keyword">struct </span>userdata_type * ) userdata;</div>
<div class="line">    u[0] = u[0] + 2.0 * y[0] * v[0];</div>
<div class="line">    u[1] = u[1] + 2.0 * y[1] * v[1];</div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">// compute residual-Hessians-vector products</span></div>
<div class="line"><span class="keywordtype">int</span> rhessprods( <span class="keywordtype">int</span> n, <span class="keywordtype">int</span> m, <span class="keywordtype">int</span> pne, <span class="keyword">const</span> <span class="keywordtype">double</span> x[], <span class="keyword">const</span> <span class="keywordtype">double</span> v[],</div>
<div class="line">                <span class="keywordtype">double</span> pval[], <span class="keywordtype">bool</span> got_h, <span class="keyword">const</span> <span class="keywordtype">void</span> *userdata ){</div>
<div class="line">    <span class="keyword">struct </span>userdata_type *myuserdata = ( <span class="keyword">struct </span>userdata_type * ) userdata;</div>
<div class="line">    pval[0] = 2.0 * v[0];</div>
<div class="line">    pval[1] = 2.0 * v[1];</div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">// scale v</span></div>
<div class="line"><span class="keywordtype">int</span> scale( <span class="keywordtype">int</span> n, <span class="keywordtype">int</span> m, <span class="keyword">const</span> <span class="keywordtype">double</span> x[], <span class="keywordtype">double</span> u[], </div>
<div class="line">           <span class="keyword">const</span> <span class="keywordtype">double</span> v[], <span class="keyword">const</span> <span class="keywordtype">void</span> *userdata ){</div>
<div class="line">    <span class="keyword">struct </span>userdata_type *myuserdata = ( <span class="keyword">struct </span>userdata_type * ) userdata;</div>
<div class="line">    u[0] = v[0];</div>
<div class="line">    u[1] = v[1];</div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">// compute the dense Jacobian</span></div>
<div class="line"><span class="keywordtype">int</span> jac_dense( <span class="keywordtype">int</span> n, <span class="keywordtype">int</span> m, <span class="keywordtype">int</span> jne, <span class="keyword">const</span> <span class="keywordtype">double</span> x[], <span class="keywordtype">double</span> jval[], </div>
<div class="line">               <span class="keyword">const</span> <span class="keywordtype">void</span> *userdata ){</div>
<div class="line">    <span class="keyword">struct </span>userdata_type *myuserdata = ( <span class="keyword">struct </span>userdata_type * ) userdata;</div>
<div class="line">    jval[0] = 2.0 * x[0];</div>
<div class="line">    jval[1] = 0.0;</div>
<div class="line">    jval[2] = 1.0;</div>
<div class="line">    jval[3] = 2.0 * x[1];</div>
<div class="line">    jval[4] = 1.0;</div>
<div class="line">    jval[5] = - 1.0;</div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">// compute the dense Hessian</span></div>
<div class="line"><span class="keywordtype">int</span> hess_dense( <span class="keywordtype">int</span> n, <span class="keywordtype">int</span> m, <span class="keywordtype">int</span> hne, <span class="keyword">const</span> <span class="keywordtype">double</span> x[], <span class="keyword">const</span> <span class="keywordtype">double</span> y[],</div>
<div class="line">                <span class="keywordtype">double</span> hval[], <span class="keyword">const</span> <span class="keywordtype">void</span> *userdata ){</div>
<div class="line">    <span class="keyword">struct </span>userdata_type *myuserdata = ( <span class="keyword">struct </span>userdata_type * ) userdata;</div>
<div class="line">    hval[0] = 2.0 * y[0];</div>
<div class="line">    hval[1] = 0.0;</div>
<div class="line">    hval[2] = 2.0 * y[1];</div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">// compute dense residual-Hessians-vector products</span></div>
<div class="line"><span class="keywordtype">int</span> rhessprods_dense( <span class="keywordtype">int</span> n, <span class="keywordtype">int</span> m, <span class="keywordtype">int</span> pne, <span class="keyword">const</span> <span class="keywordtype">double</span> x[], </div>
<div class="line">                      <span class="keyword">const</span> <span class="keywordtype">double</span> v[], <span class="keywordtype">double</span> pval[], <span class="keywordtype">bool</span> got_h,</div>
<div class="line">                      <span class="keyword">const</span> <span class="keywordtype">void</span> *userdata ){</div>
<div class="line">    <span class="keyword">struct </span>userdata_type *myuserdata = ( <span class="keyword">struct </span>userdata_type * ) userdata;</div>
<div class="line">    pval[0] = 2.0 * v[0];</div>
<div class="line">    pval[1] = 0.0;</div>
<div class="line">    pval[2] = 0.0;</div>
<div class="line">    pval[3] = 2.0 * v[1];</div>
<div class="line">    pval[4] = 0.0;</div>
<div class="line">    pval[5] = 0.0;</div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"> </div>
</div><!-- fragment --> </div><!-- contents -->
<div class="ttc" id="anls_8h_html"><div class="ttname"><a href="nls_8h.html">nls.h</a></div></div>
<div class="ttc" id="anls_8h_html_aa344bb15b74ab3b3ee6afb2de072b19f"><div class="ttname"><a href="nls_8h.html#aa344bb15b74ab3b3ee6afb2de072b19f">nls_initialize</a></div><div class="ttdeci">void nls_initialize(void **data, struct nls_control_type *control, struct nls_inform_type *inform)</div></div>
<div class="ttc" id="anls_8h_html_a3f0eb83fd31ee4108156f2e84176389d"><div class="ttname"><a href="nls_8h.html#a3f0eb83fd31ee4108156f2e84176389d">nls_import</a></div><div class="ttdeci">void nls_import(struct nls_control_type *control, void **data, int *status, int n, int m, const char J_type[], int J_ne, const int J_row[], const int J_col[], const int J_ptr[], const char H_type[], int H_ne, const int H_row[], const int H_col[], const int H_ptr[], const char P_type[], int P_ne, const int P_row[], const int P_col[], const int P_ptr[], const real_wp_ w[])</div></div>
<div class="ttc" id="anls_8h_html_a7babe9112dfad1eb7b57b70135704ab0"><div class="ttname"><a href="nls_8h.html#a7babe9112dfad1eb7b57b70135704ab0">nls_terminate</a></div><div class="ttdeci">void nls_terminate(void **data, struct nls_control_type *control, struct nls_inform_type *inform)</div></div>
<div class="ttc" id="anls_8h_html_a692ecbfaa428584e60aa4c33d7278a64"><div class="ttname"><a href="nls_8h.html#a692ecbfaa428584e60aa4c33d7278a64">nls_solve_without_mat</a></div><div class="ttdeci">void nls_solve_without_mat(void **data, void *userdata, int *status, int n, int m, real_wp_ x[], real_wp_ c[], real_wp_ g[], int(*eval_c)(int, int, const real_wp_[], real_wp_[], const void *), int(*eval_jprod)(int, int, const real_wp_[], const bool, real_wp_[], const real_wp_[], bool, const void *), int(*eval_hprod)(int, int, const real_wp_[], const real_wp_[], real_wp_[], const real_wp_[], bool, const void *), int p_ne, int(*eval_hprods)(int, int, int, const real_wp_[], const real_wp_[], real_wp_[], bool, const void *))</div></div>
<div class="ttc" id="astructnls__control__type_html"><div class="ttname"><a href="structnls__control__type.html">nls_control_type</a></div><div class="ttdef"><b>Definition:</b> nls.h:658</div></div>
<div class="ttc" id="anls_8h_html_a9ad89605640c53c33ddd5894b5e3edd1"><div class="ttname"><a href="nls_8h.html#a9ad89605640c53c33ddd5894b5e3edd1">nls_solve_reverse_with_mat</a></div><div class="ttdeci">void nls_solve_reverse_with_mat(void **data, int *status, int *eval_status, int n, int m, real_wp_ x[], real_wp_ c[], real_wp_ g[], int j_ne, real_wp_ J_val[], const real_wp_ y[], int h_ne, real_wp_ H_val[], real_wp_ v[], int p_ne, real_wp_ P_val[])</div></div>
<div class="ttc" id="anls_8h_html_a765da96b0a1f3d07dab53cc3400c22d8"><div class="ttname"><a href="nls_8h.html#a765da96b0a1f3d07dab53cc3400c22d8">nls_information</a></div><div class="ttdeci">void nls_information(void **data, struct nls_inform_type *inform, int *status)</div></div>
<div class="ttc" id="anls_8h_html_ae923c2e6afabb3563fe0998d45b715c4"><div class="ttname"><a href="nls_8h.html#ae923c2e6afabb3563fe0998d45b715c4">nls_solve_with_mat</a></div><div class="ttdeci">void nls_solve_with_mat(void **data, void *userdata, int *status, int n, int m, real_wp_ x[], real_wp_ c[], real_wp_ g[], int(*eval_c)(int, int, const real_wp_[], real_wp_[], const void *), int j_ne, int(*eval_j)(int, int, int, const real_wp_[], real_wp_[], const void *), int h_ne, int(*eval_h)(int, int, int, const real_wp_[], const real_wp_[], real_wp_[], const void *), int p_ne, int(*eval_hprods)(int, int, int, const real_wp_[], const real_wp_[], real_wp_[], bool, const void *))</div></div>
<div class="ttc" id="anls_8h_html_a6dddd928c19adec0abf76bdb2d75da17"><div class="ttname"><a href="nls_8h.html#a6dddd928c19adec0abf76bdb2d75da17">nls_solve_reverse_without_mat</a></div><div class="ttdeci">void nls_solve_reverse_without_mat(void **data, int *status, int *eval_status, int n, int m, real_wp_ x[], real_wp_ c[], real_wp_ g[], bool *transpose, real_wp_ u[], real_wp_ v[], real_wp_ y[], int p_ne, real_wp_ P_val[])</div></div>
<div class="ttc" id="astructnls__inform__type_html"><div class="ttname"><a href="structnls__inform__type.html">nls_inform_type</a></div><div class="ttdef"><b>Definition:</b> nls.h:1080</div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
